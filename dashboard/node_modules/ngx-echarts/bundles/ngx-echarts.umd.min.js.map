{"version":3,"sources":["ng://ngx-echarts/lib/change-filter.ts","ng://ngx-echarts/lib/ngx-echarts.directive.ts","ng://ngx-echarts/lib/ngx-echarts.module.ts"],"names":["ChangeFilter","_changes","this","of","changes","prototype","notEmpty","key","value","currentValue","undefined","empty","has","notFirst","isFirstChange","notFirstAndEmpty","NgxEchartsDirective","el","ngZone","autoResize","loadingType","detectEventChanges","chartInit","EventEmitter","chartClick","createLazyEvent","chartDblClick","chartMouseDown","chartMouseMove","chartMouseUp","chartMouseOver","chartMouseOut","chartGlobalOut","chartContextMenu","chartLegendSelectChanged","chartLegendSelected","chartLegendUnselected","chartLegendScroll","chartDataZoom","chartDataRangeSelected","chartTimelineChanged","chartTimelinePlayChanged","chartRestore","chartDataViewChanged","chartMagicTypeChanged","chartPieSelectChanged","chartPieSelected","chartPieUnselected","chartMapSelectChanged","chartMapSelected","chartMapUnselected","chartAxisAreaSelected","chartFocusNodeAdjacency","chartUnfocusNodeAdjacency","chartBrush","chartBrushSelected","chartRendered","chartFinished","currentOffsetWidth","currentOffsetHeight","ngOnChanges","_this","filter","subscribe","opt","onOptionsChange","setOption","v","toggleLoading","refreshChart","ngOnInit","resizeSub","fromEvent","window","pipe","debounceTime","innerWidth","currentWindowWidth","nativeElement","offsetWidth","offsetHeight","resize","ngOnDestroy","unsubscribe","dispose","ngDoCheck","chart","ngAfterViewInit","setTimeout","initChart","loading","showLoading","loadingOpts","hideLoading","option","opts","createChart","dom","getComputedStyle","prop","getPropertyValue","style","height","runOutsideAngular","init","theme","initOpts","options","merge","emit","eventName","switchMap","Observable","observer","on","data","run","next","Directive","args","selector","ElementRef","NgZone","Input","Output","NgxEchartsModule","NgModule","imports","declarations","exports"],"mappings":"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","sourcesContent":["import { SimpleChanges } from '@angular/core';\r\nimport { Observable, of, empty } from 'rxjs';\r\n\r\nexport class ChangeFilter {\r\n  constructor(private _changes: SimpleChanges) { }\r\n\r\n  static of(changes: SimpleChanges) {\r\n    return new ChangeFilter(changes);\r\n  }\r\n\r\n  notEmpty<T>(key: string): Observable<T> {\r\n    if (this._changes[key]) {\r\n      const value: T = this._changes[key].currentValue;\r\n\r\n      if (value !== undefined && value !== null) {\r\n        return of(value);\r\n      }\r\n    }\r\n    return empty();\r\n  }\r\n\r\n  has<T>(key: string): Observable<T> {\r\n    if (this._changes[key]) {\r\n      const value: T = this._changes[key].currentValue;\r\n      return of(value);\r\n    }\r\n    return empty();\r\n  }\r\n\r\n  notFirst<T>(key: string): Observable<T> {\r\n    if (this._changes[key] && !this._changes[key].isFirstChange()) {\r\n      const value: T = this._changes[key].currentValue;\r\n      return of(value);\r\n    }\r\n    return empty();\r\n  }\r\n\r\n  notFirstAndEmpty<T>(key: string): Observable<T> {\r\n    if (this._changes[key] && !this._changes[key].isFirstChange()) {\r\n      const value: T = this._changes[key].currentValue;\r\n\r\n      if (value !== undefined && value !== null) {\r\n        return of(value);\r\n      }\r\n    }\r\n    return empty();\r\n  }\r\n}\r\n","import { AfterViewInit, Directive, DoCheck, ElementRef, EventEmitter, Input, NgZone, OnChanges, OnDestroy, OnInit, Output, SimpleChanges } from '@angular/core';\r\nimport { EChartOption, ECharts, init } from 'echarts';\r\nimport { fromEvent, Observable, Subscription } from 'rxjs';\r\nimport { debounceTime, switchMap } from 'rxjs/operators';\r\nimport { ChangeFilter } from './change-filter';\r\n\r\n@Directive({\r\n  selector: 'echarts, [echarts]',\r\n})\r\nexport class NgxEchartsDirective implements OnChanges, OnDestroy, OnInit, DoCheck, AfterViewInit {\r\n  @Input() options: EChartOption;\r\n  @Input() theme: string;\r\n  @Input() loading: boolean;\r\n  @Input() initOpts: {\r\n    devicePixelRatio?: number\r\n    renderer?: string\r\n    width?: number | string\r\n    height?: number | string\r\n  };\r\n  @Input() merge: EChartOption;\r\n  @Input() autoResize = true;\r\n  @Input() loadingType = 'default';\r\n  @Input() loadingOpts: object;\r\n  @Input() detectEventChanges = true; // deprecated, left for compatibility reasons to avoid triggering major version\r\n\r\n  // ngx-echarts events\r\n  @Output() chartInit = new EventEmitter<ECharts>();\r\n\r\n  // echarts mouse events\r\n  @Output() chartClick = this.createLazyEvent('click');\r\n  @Output() chartDblClick = this.createLazyEvent('dblclick');\r\n  @Output() chartMouseDown = this.createLazyEvent('mousedown');\r\n  @Output() chartMouseMove = this.createLazyEvent('mousemove');\r\n  @Output() chartMouseUp = this.createLazyEvent('mouseup');\r\n  @Output() chartMouseOver = this.createLazyEvent('mouseover');\r\n  @Output() chartMouseOut = this.createLazyEvent('mouseout');\r\n  @Output() chartGlobalOut = this.createLazyEvent('globalout');\r\n  @Output() chartContextMenu = this.createLazyEvent('contextmenu');\r\n\r\n  // echarts mouse events\r\n  @Output() chartLegendSelectChanged = this.createLazyEvent('legendselectchanged');\r\n  @Output() chartLegendSelected = this.createLazyEvent('legendselected');\r\n  @Output() chartLegendUnselected = this.createLazyEvent('legendunselected');\r\n  @Output() chartLegendScroll = this.createLazyEvent('legendscroll');\r\n  @Output() chartDataZoom = this.createLazyEvent('datazoom');\r\n  @Output() chartDataRangeSelected = this.createLazyEvent('datarangeselected');\r\n  @Output() chartTimelineChanged = this.createLazyEvent('timelinechanged');\r\n  @Output() chartTimelinePlayChanged = this.createLazyEvent('timelineplaychanged');\r\n  @Output() chartRestore = this.createLazyEvent('restore');\r\n  @Output() chartDataViewChanged = this.createLazyEvent('dataviewchanged');\r\n  @Output() chartMagicTypeChanged = this.createLazyEvent('magictypechanged');\r\n  @Output() chartPieSelectChanged = this.createLazyEvent('pieselectchanged');\r\n  @Output() chartPieSelected = this.createLazyEvent('pieselected');\r\n  @Output() chartPieUnselected = this.createLazyEvent('pieunselected');\r\n  @Output() chartMapSelectChanged = this.createLazyEvent('mapselectchanged');\r\n  @Output() chartMapSelected = this.createLazyEvent('mapselected');\r\n  @Output() chartMapUnselected = this.createLazyEvent('mapunselected');\r\n  @Output() chartAxisAreaSelected = this.createLazyEvent('axisareaselected');\r\n  @Output() chartFocusNodeAdjacency = this.createLazyEvent('focusnodeadjacency');\r\n  @Output() chartUnfocusNodeAdjacency = this.createLazyEvent('unfocusnodeadjacency');\r\n  @Output() chartBrush = this.createLazyEvent('brush');\r\n  @Output() chartBrushSelected = this.createLazyEvent('brushselected');\r\n  @Output() chartRendered = this.createLazyEvent('rendered');\r\n  @Output() chartFinished = this.createLazyEvent('finished');\r\n\r\n  private chart: ECharts;\r\n  private currentOffsetWidth = 0;\r\n  private currentOffsetHeight = 0;\r\n  private currentWindowWidth: number;\r\n  private resizeSub: Subscription;\r\n\r\n  constructor(private el: ElementRef, private ngZone: NgZone) { }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    const filter = ChangeFilter.of(changes);\r\n    filter.notFirstAndEmpty<any>('options').subscribe(opt => this.onOptionsChange(opt));\r\n    filter.notFirstAndEmpty<any>('merge').subscribe(opt => this.setOption(opt));\r\n    filter.has<boolean>('loading').subscribe(v => this.toggleLoading(!!v));\r\n    filter.notFirst<string>('theme').subscribe(() => this.refreshChart());\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.resizeSub = fromEvent(window, 'resize').pipe(debounceTime(50)).subscribe(() => {\r\n      if (this.autoResize && window.innerWidth !== this.currentWindowWidth) {\r\n        this.currentWindowWidth = window.innerWidth;\r\n        this.currentOffsetWidth = this.el.nativeElement.offsetWidth;\r\n        this.currentOffsetHeight = this.el.nativeElement.offsetHeight;\r\n        this.resize();\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.resizeSub.unsubscribe();\r\n    this.dispose();\r\n  }\r\n\r\n  ngDoCheck() {\r\n    // No heavy work in DoCheck!\r\n    if (this.chart && this.autoResize) {\r\n      const offsetWidth = this.el.nativeElement.offsetWidth;\r\n      const offsetHeight = this.el.nativeElement.offsetHeight;\r\n\r\n      if (this.currentOffsetWidth !== offsetWidth || this.currentOffsetHeight !== offsetHeight) {\r\n        this.currentOffsetWidth = offsetWidth;\r\n        this.currentOffsetHeight = offsetHeight;\r\n        this.resize();\r\n      }\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    setTimeout(() => this.initChart());\r\n  }\r\n\r\n  private dispose() {\r\n    if (this.chart) {\r\n      this.chart.dispose();\r\n      this.chart = null;\r\n    }\r\n  }\r\n\r\n  private resize() {\r\n    if (this.chart) {\r\n      this.chart.resize();\r\n    }\r\n  }\r\n\r\n  private toggleLoading(loading: boolean) {\r\n    if (this.chart) {\r\n      loading ? this.chart.showLoading(this.loadingType, this.loadingOpts) : this.chart.hideLoading();\r\n    }\r\n  }\r\n\r\n  private setOption(option: any, opts?: any) {\r\n    if (this.chart) {\r\n      this.chart.setOption(option, opts);\r\n    }\r\n  }\r\n\r\n  private refreshChart() {\r\n    this.dispose();\r\n    this.initChart();\r\n  }\r\n\r\n  private createChart() {\r\n    this.currentWindowWidth = window.innerWidth;\r\n    this.currentOffsetWidth = this.el.nativeElement.offsetWidth;\r\n    this.currentOffsetHeight = this.el.nativeElement.offsetHeight;\r\n    const dom = this.el.nativeElement;\r\n\r\n    if (window && window.getComputedStyle) {\r\n      const prop = window.getComputedStyle(dom, null).getPropertyValue('height');\r\n      if ((!prop || prop === '0px') &&\r\n        (!dom.style.height || dom.style.height === '0px')) {\r\n        dom.style.height = '400px';\r\n      }\r\n    }\r\n\r\n    return this.ngZone.runOutsideAngular(() => init(dom, this.theme, this.initOpts));\r\n  }\r\n\r\n  private initChart() {\r\n    this.onOptionsChange(this.options);\r\n\r\n    if (this.merge && this.chart) {\r\n      this.setOption(this.merge);\r\n    }\r\n  }\r\n\r\n  private onOptionsChange(opt: EChartOption) {\r\n    if (opt) {\r\n      if (!this.chart) {\r\n        this.chart = this.createChart();\r\n        this.chartInit.emit(this.chart);\r\n      }\r\n\r\n      this.chart.setOption(this.options, true);\r\n    }\r\n  }\r\n\r\n  // allows to lazily bind to only those events that are requested through the `@Output` by parent components\r\n  // see https://stackoverflow.com/questions/51787972/optimal-reentering-the-ngzone-from-eventemitter-event for more info\r\n  private createLazyEvent<T>(eventName: string): EventEmitter<T> {\r\n    return this.chartInit.pipe(\r\n      switchMap((chart: ECharts) => new Observable(observer => {\r\n        chart.on(eventName, (data: T) => this.ngZone.run(() => observer.next(data)));\r\n        return null; // no need to react on unsubscribe as long as the `dispose()` is called in ngOnDestroy\r\n      }))\r\n    ) as EventEmitter<T>;\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { NgxEchartsDirective } from './ngx-echarts.directive';\r\n\r\n@NgModule({\r\n  imports: [],\r\n  declarations: [\r\n    NgxEchartsDirective\r\n  ],\r\n  exports: [\r\n    NgxEchartsDirective\r\n  ]\r\n})\r\nexport class NgxEchartsModule { }\r\n"]}